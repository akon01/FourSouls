{"version":3,"sources":["injectors/ModuleValidate.ts"],"names":[],"mappings":";;;AAAA,qDAA+E;AAE/E,kCAAsD;AACtD,gCAAsD;AAEtD;;;;;;;GAOG;AACH;IACI;IAEA,CAAC;IAED,8BAAK,GAAL,UAAM,IAAe;QACjB,IAAI,CAAC,eAAO,CAAC,IAAI,CAAC,EAAE;YAChB,OAAO,KAAK,CAAC;SAChB;QAED,IAAI,SAAS,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QACpC,IAAI,gBAAQ,CAAC,SAAS,CAAC,EAAE;YACrB,OAAO,0BAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;SAC/C;aAAM,IAAI,eAAO,CAAC,SAAS,CAAC,EAAE;YAC3B,OAAO,SAAS,CAAC,IAAI,CAAC,UAAA,CAAC,IAAI,OAAA,0BAAmB,CAAC,CAAC,EAAE,IAAI,CAAC,EAA5B,CAA4B,CAAC,CAAC;SAC5D;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,qCAAY,GAAZ;QACI,OAAO,IAAI,CAAC;IAChB,CAAC;IAE0B,gCAAiB,GAAxB;QACI,OAAO,EAAC,MAAM,EAAC,gBAAgB,EAAC,QAAQ,EAAC,EAAC,aAAa,EAAC,EAAE,EAAC,OAAO,EAAC,CAAC,MAAM,CAAC,EAAC,cAAc,EAAC,EAAE,EAAC,EAAC,CAAC;IACpG,CAAC;IACN,qBAAC;AAAD,CA1BnB,AA0BoB,IAAA;AA1BP,wCAAc;AA4B3B;;GAEG;AACU,QAAA,yBAAyB,GAAG,IAAI,2CAAyB,CAAC,aAAM,CAAC,QAAQ,EAAE,CAAC,CAAC;AAC1F;;;;;;;GAOG;AACH;IAA0C,gDAAc;IAAxD;;IAQmB,CAAC;IAPhB,2CAAY,GAAZ;QACI,OAAO,aAAM,CAAC,QAAQ,EAAE,CAAC;IAC7B,CAAC;IAE0B,sCAAiB,GAAxB;QACI,OAAO,EAAC,MAAM,EAAC,sBAAsB,EAAC,QAAQ,EAAC,EAAC,cAAc,EAAC,EAAE,EAAC,EAAC,CAAC;IACxE,CAAC;IACN,2BAAC;AAAD,CARnB,AAQoB,CARsB,cAAc,GAQpC;AARP,oDAAoB","file":"../../injectors/ModuleValidate.js","sourcesContent":["import { IModuleValidate, InjectModuleValidateToken } from './IModuleValidate';\r\nimport { Type } from '../types';\r\nimport { isClass, isString, isArray } from '../utils';\r\nimport { hasOwnClassMetadata, IocExt } from '../core';\r\n\r\n/**\r\n * base module validate.\r\n *\r\n * @export\r\n * @abstract\r\n * @class BaseModuelValidate\r\n * @implements {IModuleValidate}\r\n */\r\nexport class ModuelValidate implements IModuleValidate {\r\n    constructor() {\r\n\r\n    }\r\n\r\n    valid(type: Type<any>): boolean {\r\n        if (!isClass(type)) {\r\n            return false;\r\n        }\r\n\r\n        let decorator = this.getDecorator();\r\n        if (isString(decorator)) {\r\n            return hasOwnClassMetadata(decorator, type);\r\n        } else if (isArray(decorator)) {\r\n            return decorator.some(d => hasOwnClassMetadata(d, type));\r\n        }\r\n        return true;\r\n    }\r\n\r\n    getDecorator(): string | string[] {\r\n        return null;\r\n    }\r\n\n                        static getClassAnnations():any  {\n                            return {\"name\":\"ModuelValidate\",\"params\":{\"constructor\":[],\"valid\":[\"type\"],\"getDecorator\":[]}};\n                        }\n                   }\r\n\r\n/**\r\n * IocExt module validate token.\r\n */\r\nexport const IocExtModuleValidateToken = new InjectModuleValidateToken(IocExt.toString());\r\n/**\r\n * IocExt module validate.\r\n *\r\n * @export\r\n * @class IocExtModuleValidate\r\n * @extends {ModuelValidate}\r\n * @implements {IModuleValidate}\r\n */\r\nexport class IocExtModuleValidate extends ModuelValidate implements IModuleValidate {\r\n    getDecorator(): string | string[] {\r\n        return IocExt.toString();\r\n    }\r\n\n                        static getClassAnnations():any  {\n                            return {\"name\":\"IocExtModuleValidate\",\"params\":{\"getDecorator\":[]}};\n                        }\n                   }\r\n"]}
{"version":3,"sources":["core/actions/SingletonAction.ts"],"names":[],"mappings":";;;AAEA,qDAAoD;AAEpD,6CAA4C;AAe5C;;;;;;GAMG;AACH;IAAsC,4CAAe;IAEjD;eACI,kBAAM,yBAAW,CAAC,UAAU,CAAC;IACjC,CAAC;IAES,kCAAO,GAAjB,UAAkB,SAAqB,EAAE,IAA0B;QAC/D,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,KAAK,SAAS,EAAE;YAC1D,OAAO;SACV;QACD,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,SAAS,EAAE;YAChD,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;SACvD;IACL,CAAC;IAE0B,kCAAiB,GAAxB;QACI,OAAO,EAAC,MAAM,EAAC,kBAAkB,EAAC,QAAQ,EAAC,EAAC,aAAa,EAAC,EAAE,EAAC,SAAS,EAAC,CAAC,WAAW,EAAC,MAAM,CAAC,EAAC,EAAC,CAAC;IAClG,CAAC;IACN,uBAAC;AAAD,CAlBnB,AAkBoB,CAlBkB,iCAAe,GAkBjC;AAlBP,4CAAgB","file":"../../../core/actions/SingletonAction.js","sourcesContent":["import { ActionData } from '../ActionData';\r\nimport { ClassMetadata } from '../metadatas';\r\nimport { ActionComposite } from './ActionComposite';\r\nimport { IContainer } from '../../IContainer';\r\nimport { CoreActions } from './CoreActions';\r\n\r\n\r\n\r\n/**\r\n * singleton action data.\r\n *\r\n * @export\r\n * @interface SingletionActionData\r\n * @extends {ActionData<ClassMetadata>}\r\n */\r\nexport interface SingletionActionData extends ActionData<ClassMetadata> {\r\n\r\n}\r\n\r\n/**\r\n * singleton action, to set the factory of Token as singleton.\r\n *\r\n * @export\r\n * @class SingletionAction\r\n * @extends {ActionComposite}\r\n */\r\nexport class SingletionAction extends ActionComposite {\r\n\r\n    constructor() {\r\n        super(CoreActions.singletion)\r\n    }\r\n\r\n    protected working(container: IContainer, data: SingletionActionData) {\r\n        if (data.raiseContainer && data.raiseContainer !== container) {\r\n            return;\r\n        }\r\n        if (data.tokenKey && data.target && data.singleton) {\r\n            container.registerValue(data.tokenKey, data.target);\r\n        }\r\n    }\r\n\n                        static getClassAnnations():any  {\n                            return {\"name\":\"SingletionAction\",\"params\":{\"constructor\":[],\"working\":[\"container\",\"data\"]}};\n                        }\n                   }\r\n\r\n"]}
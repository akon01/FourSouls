"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const factories_1 = require("../factories");
const utils_1 = require("../../utils");
/**
 * Autorun decorator, for class or method.  use to define the class auto run (via a method or not) after registered.
 *
 * @Autorun
 */
exports.Autorun = factories_1.createClassMethodDecorator('Autorun', args => {
    args.next({
        isMetadata: (arg) => utils_1.isClassMetadata(arg, 'autorun'),
        match: (arg) => utils_1.isString(arg) || utils_1.isNumber(arg),
        setMetadata: (metadata, arg) => {
            if (utils_1.isString(arg)) {
                metadata.autorun = arg;
            }
            else {
                metadata.order = arg;
            }
        }
    });
}, (metadata) => {
    metadata.singleton = true;
    return metadata;
});

//# sourceMappingURL=../../sourcemaps/core/decorators/AutoRun.js.map

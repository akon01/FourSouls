{"version":3,"sources":["core/actions/ComponentAfterInitAction.ts"],"names":[],"mappings":";;AAEA,uDAAoD;AAGpD,uCAAyC;AACzC,+CAA4C;AAC5C,4CAA6C;AAc7C;;;;;;GAMG;AACH,MAAa,wBAAyB,SAAQ,iCAAe;IAEzD;QACI,KAAK,CAAC,yBAAW,CAAC,kBAAkB,CAAC,CAAA;IACzC,CAAC;IAES,OAAO,CAAC,SAAqB,EAAE,IAAkC;QACvE,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,KAAK,SAAS,EAAE;YAC1D,OAAO;SACV;QACD,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,MAAM,EAAE;YAChC,IAAI,SAAS,CAAC,YAAY,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,EAAE,yBAAa,CAAC,KAAK,EAAE,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,yBAAW,CAAC,kBAAkB,CAAC,CAAC,EAAE;gBAC5I,IAAI,SAAS,GAAG,IAAI,CAAC,MAAmB,CAAC;gBACzC,IAAI,kBAAU,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE;oBACjC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,UAAU,EAAE,WAAW,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;iBAClF;aACJ;SACJ;IACL,CAAC;IAEmB,MAAM,CAAC,iBAAiB;QACpB,OAAO,EAAC,MAAM,EAAC,0BAA0B,EAAC,QAAQ,EAAC,EAAC,aAAa,EAAC,EAAE,EAAC,SAAS,EAAC,CAAC,WAAW,EAAC,MAAM,CAAC,EAAC,EAAC,CAAC;IAC1G,CAAC;CACL;AAvBpB,4DAuBoB","file":"../../../core/actions/ComponentAfterInitAction.js","sourcesContent":["import { ActionData } from '../ActionData';\r\nimport { ClassMetadata } from '../metadatas';\r\nimport { ActionComposite } from './ActionComposite';\r\nimport { IContainer } from '../../IContainer';\r\nimport { AfterInit } from '../ComponentLifecycle';\r\nimport { isFunction } from '../../utils';\r\nimport { CoreActions } from './CoreActions';\r\nimport { DecoratorType } from '../factories';\r\n\r\n\r\n/**\r\n * component after init action data.\r\n *\r\n * @export\r\n * @interface ComponentAfterInitActionData\r\n * @extends {ActionData<ClassMetadata>}\r\n */\r\nexport interface ComponentAfterInitActionData extends ActionData<ClassMetadata> {\r\n\r\n}\r\n\r\n/**\r\n * component after init action, to run @Component decorator class after init hooks.\r\n *\r\n * @export\r\n * @class ComponentAfterInitAction\r\n * @extends {ActionComposite}\r\n */\r\nexport class ComponentAfterInitAction extends ActionComposite {\r\n\r\n    constructor() {\r\n        super(CoreActions.componentAfterInit)\r\n    }\r\n\r\n    protected working(container: IContainer, data: ComponentAfterInitActionData) {\r\n        if (data.raiseContainer && data.raiseContainer !== container) {\r\n            return;\r\n        }\r\n        if (data.targetType && data.target) {\r\n            if (container.getLifeScope().hasDecorator(data.targetType, DecoratorType.Class, surm => surm.actions.includes(CoreActions.componentAfterInit))) {\r\n                let component = data.target as AfterInit;\r\n                if (isFunction(component.afterInit)) {\r\n                    container.syncInvoke(data.target || data.targetType, 'afterInit', data.target);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\n                        static getClassAnnations():any  {\n                            return {\"name\":\"ComponentAfterInitAction\",\"params\":{\"constructor\":[],\"working\":[\"container\",\"data\"]}};\n                        }\n                   }\r\n\r\n"]}
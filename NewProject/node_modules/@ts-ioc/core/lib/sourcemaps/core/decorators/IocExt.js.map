{"version":3,"sources":["core/decorators/IocExt.ts"],"names":[],"mappings":";;AAAA,0CAAoE;AAEpE,qCAAwD;AA2BxD;;;;GAIG;AACU,QAAA,MAAM,GAAoB,gCAAoB,CAAkB,QAAQ,EACjF,UAAA,IAAI;IACA,IAAI,CAAC,IAAI,CAAkB;QACvB,UAAU,EAAE,UAAC,GAAG,IAAK,OAAA,uBAAe,CAAC,GAAG,EAAE,SAAS,CAAC,EAA/B,CAA+B;QACpD,KAAK,EAAE,UAAC,GAAG,IAAK,OAAA,gBAAQ,CAAC,GAAG,CAAC,EAAb,CAAa;QAC7B,WAAW,EAAE,UAAC,QAAQ,EAAE,GAAG;YACvB,QAAQ,CAAC,OAAO,GAAG,GAAG,CAAC;QAC3B,CAAC;KACJ,CAAC,CAAA;AACN,CAAC,EAAE,UAAC,QAAQ;IACR,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC;IAC1B,OAAO,QAAQ,CAAC;AACpB,CAAC,CAAoB,CAAC;AAEb,QAAA,SAAS,GAAG,cAAM,CAAC","file":"../../../core/decorators/IocExt.js","sourcesContent":["import { createClassDecorator, ITypeDecorator } from '../factories';\r\nimport { AutorunMetadata } from '../metadatas';\r\nimport { isClassMetadata, isString } from '../../utils';\r\n\r\n/**\r\n * IocExt decorator. define for class, use to define the class is Ioc extends module. it will auto run after registered to helper your to setup module.\r\n *\r\n * @IocExt\r\n */\r\nexport interface IocExtDecorator extends ITypeDecorator<AutorunMetadata> {\r\n    /**\r\n     * IocExt decorator. define for class, use to define the class is Ioc extends module. it will auto run after registered to helper your to setup module.\r\n     *\r\n     * @IocExt\r\n     *\r\n     * @param {string} [autorun] auto run special method.\r\n     */\r\n    (autorun?: string): ClassDecorator;\r\n\r\n    /**\r\n     * IocExt decorator. define for class, use to define the class is Ioc extends module. it will auto run after registered to helper your to setup module.\r\n     *\r\n     * @IocExt\r\n     *\r\n     * @param {AutorunMetadata} [metadata] metadata map.\r\n     */\r\n    (metadata?: AutorunMetadata): ClassDecorator;\r\n}\r\n\r\n/**\r\n * IocExt decorator. define for class, use to define the class is Ioc extends module. it will auto run after registered to helper your to setup module.\r\n *\r\n * @IocExt\r\n */\r\nexport const IocExt: IocExtDecorator = createClassDecorator<AutorunMetadata>('IocExt',\r\n    args => {\r\n        args.next<AutorunMetadata>({\r\n            isMetadata: (arg) => isClassMetadata(arg, 'autorun'),\r\n            match: (arg) => isString(arg),\r\n            setMetadata: (metadata, arg) => {\r\n                metadata.autorun = arg;\r\n            }\r\n        })\r\n    }, (metadata) => {\r\n        metadata.singleton = true;\r\n        return metadata;\r\n    }) as IocExtDecorator;\r\n\r\nexport const IocModule = IocExt;\r\n"]}